apiVersion: k8gb.absa.oss/v1beta1
kind: Gslb
metadata:
  name: test-gslb-failover
  namespace: default
  annotations:
    k8gb.io/exposed-ip-addresses: "37.208.177.152"
spec:
  ingress:
    ingressClassName: traefik-ext
    rules:
      - host: test.blogtest.aksine-am.com
        http:
          paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: blog # This should point to Service name of testing application
                port:
                  name: http

  strategy:
    dnsTtlSeconds: 60 # Minimum for non-Enterprise Cloudflare https://developers.cloudflare.com/dns/manage-dns-records/reference/ttl/
    primaryGeoTag: doh
    splitBrainThresholdSeconds: 300
    type: failover
